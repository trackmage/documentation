(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{103:function(e,t,a){"use strict";function n(e){var t,a,c="";if("string"==typeof e||"number"==typeof e)c+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(c&&(c+=" "),c+=a);else for(t in e)e[t]&&(c&&(c+=" "),c+=t);return c}t.a=function(){for(var e,t,a=0,c="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(c&&(c+=" "),c+=t);return c}},121:function(e,t,a){"use strict";var n=a(0),c=a(122);t.a=function(){const e=Object(n.useContext)(c.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},122:function(e,t,a){"use strict";var n=a(0);const c=Object(n.createContext)(void 0);t.a=c},164:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(121),o=a(103),i=a(59),l=a.n(i);const s=37,u=39;t.a=function(e){const{lazy:t,block:a,defaultValue:i,values:p,groupId:b,className:d}=e,{tabGroupChoices:m,setTabGroupChoices:h}=Object(r.a)(),[g,O]=Object(n.useState)(i),v=n.Children.toArray(e.children);if(null!=b){const e=m[b];null!=e&&e!==g&&p.some((t=>t.value===e))&&O(e)}const T=e=>{O(e),null!=b&&h(b,e)},j=[];return c.a.createElement("div",null,c.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(o.a)("tabs",{"tabs--block":a},d)},p.map((({value:e,label:t})=>c.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":g===e,className:Object(o.a)("tabs__item",l.a.tabItem,{"tabs__item--active":g===e}),key:e,ref:e=>j.push(e),onKeyDown:e=>{((e,t,a)=>{switch(a.keyCode){case u:((e,t)=>{const a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()})(e,t);break;case s:((e,t)=>{const a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,t)}})(j,e.target,e)},onFocus:()=>T(e),onClick:()=>{T(e)}},t)))),t?Object(n.cloneElement)(v.filter((e=>e.props.value===g))[0],{className:"margin-vert--md"}):c.a.createElement("div",{className:"margin-vert--md"},v.map(((e,t)=>Object(n.cloneElement)(e,{key:t,hidden:e.props.value!==g})))))}},165:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=function({children:e,hidden:t,className:a}){return c.a.createElement("div",{role:"tabpanel",hidden:t,className:a},e)}},91:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return s})),a.d(t,"toc",(function(){return u})),a.d(t,"default",(function(){return b}));var n=a(3),c=a(7),r=(a(0),a(104)),o=a(164),i=a(165),l={id:"Authorization",title:"Authorization",sidebar_label:"Authorization",slug:"authorization"},s={unversionedId:"Authorization",id:"Authorization",isDocsHomePage:!1,title:"Authorization",description:"Create a TrackMake account",source:"@site/docs/Authorization.mdx",slug:"/authorization",permalink:"/docs/authorization",version:"current",sidebar_label:"Authorization",sidebar:"mainSidebar",previous:{title:"Introduction",permalink:"/docs/"},next:{title:"Getting Started",permalink:"/docs/getting-started"}},u=[],p={toc:u};function b(e){var t=e.components,a=Object(c.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h3",{id:"create-account"},"Create a TrackMake account"),"See ",Object(r.b)("a",{href:"https://help.trackmage.com/en/docs/5-how-to-sign-up-for-trackmage",title:"How to sign up for TrackMage",target:"_blank"},"How to sign up for TrackMage")," for instructions on creating new Account on TrackMage.",Object(r.b)("h3",{id:"create-api-keys"},"Create API Keys"),Object(r.b)("p",null,"To use TrackMage API, you'll need to generate an API Key and Secret which will be included with any calls made to the API. The Key and Secret are used to authenticate the API calls so that TrackMage updates the information within your specific account. To generate your API Key and Secret, follow the steps below:"),Object(r.b)("ol",null,Object(r.b)("li",null,"Go to ",Object(r.b)("a",{href:"https://app.trackmage.com/dashboard/user-profile/api-keys",target:"_blank",title:"TrackMage Api Keys Settings"},"Api Keys Settings")),Object(r.b)("li",null,"Enter your App Name and App Url, press on Generate button"),Object(r.b)("li",null,"Copy your Client Id and Secret")),Object(r.b)("h3",{id:"obtain-authorization-token"},"Obtain Authorization TOKEN"),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"Ignore this step of you use ",Object(r.b)("a",{parentName:"p",href:"/docs/trackmage-sdks/php-sdk.html"},"TrackMage PHP SDK")))),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},'Use generated "access_token" from response in the future requests.'))),Object(r.b)(o.a,{groupId:"languages",defaultValue:"curl",values:[{label:"cURL",value:"curl"},{label:"HTTP",value:"http"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"curl",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-curl"},"curl --location --request GET 'https://api.trackmage.com/oauth/v2/token?grant_type=client_credentials&client_id=YOUR_CLIENT_ID&client_secret=YOUR_CLIENT_SECRET'\n"))),Object(r.b)(i.a,{value:"http",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-http"},"GET https://api.rc.trackmage.com/oauth/v2/token?grant_type=client_credentials&client_id=YOUR_CLIENT_ID&client_secret=YOUR_CLIENT_SECRET\nAccept: application/json\n")))),Object(r.b)("p",null,"Example response:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-json"},'{\n    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE1OTMwMDY1ODcsImV4cCI6MTU5MzAxMDE4Nywicm9sZXMiOltdLCJ1c2VybmFtZSI6ImhhcmJ1em5pYWsueWV2aGVuaWlAZ21haWwuY29tIn0.WyAtVsSq4z3T90-mVac7ReSHZ9ro3nBWKS_OqXoC2rkLxX4yiHGmgAZFrnojbJP0Qyq7nIliwRJO-32o24n4TVhoSmtyVNddVAHpHyTVhvS5MXK4huCvu1S30cCQBIPgSJFE82e7cu9-Sq50JmhvjTtW0_Ww0Jv1ofAm56q46k2RlvOus4SXvEBRJHP53FDSBjnGqTpogwy7FB6TZJfujxVBlA3VqPbj0L5bmchzg-dAvrZYrehEKsGTYPGXDveNg3ptAK1nQ56u-r_WgZ_uIpeBXNBnY9RRj_xZWFGYYIiMUhCueENDCFPya61BoxrjSu97EiP_vr7GYJ2FO-ObFbk5hKc-Pa6pI70ey6ai5VwQ0DgtSTJhvRBijphzNDP5ucAX0sn2xJYKHcgP91kAXWQTsVGZBD3e-cfN0S2K4VaG_nyLkQWn-DbN8SJa_-eoUFJ2R2OBOSHunRM1LQe9Ub2EQ9hh07JzR_T2XiTedJM8B02S6UoQ4sXuTdr0wEP5ANxTSYS6vWUatdm6A_K3inrhK82-qWyhldp2XrqC8a8XYThvTTBufxzUcTnjIEbrdgd-UPajSH7WFNl-mpRTE9I2vtYwFsKo1IHekPZu5hX5qs-ZSrRBqY4vGved2NS7gQ9TcZLzX6wSmEV7LpBMnSAQ1TXA_lGXBC7TSCsUI2A",\n    "expires_in": 3600,\n    "token_type": "bearer",\n    "scope": "user",\n    "user_id": "fe1dec62-490e-4f16-afb2-6f9dd303d930",\n    "user_email": "your@email.com"\n}\n')),Object(r.b)("h2",{id:"oauth-flow"},"OAuth Authentication flow"),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"For integrating third-party application with TrackMage you'll need to generate client id and secret in TrackMage.\nGo to ",Object(r.b)("a",{href:"https://app.trackmage.com/dashboard/user-profile/api-keys",target:"_blank",title:"TrackMage Api Keys Settings"},"Api Keys Settings"),", specify App Name and App Url and click Generate."))),Object(r.b)("ul",null,Object(r.b)("li",null,"The user clicks the Login with TrackMage button on any third-party application."),Object(r.b)(o.a,{groupId:"languages",defaultValue:"curl",values:[{label:"cURL",value:"curl"},{label:"HTTP",value:"http"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"curl",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-curl"},"curl --location --request GET 'https://api.trackmage.com/oauth/v2/auth?client_id=YOUR_CLIENT_ID&state=STATE&redirect_uri=https://example.com&response_type=code'\n"))),Object(r.b)(i.a,{value:"http",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-http"},"GET https://api.trackmage.com/oauth/v2/auth?client_id=YOUR_CLIENT_ID&state=STATE&redirect_uri=https://example.com&response_type=code\nAccept: application/json\n")))),Object(r.b)("li",null,"The application redirects the user to the TrackMage Login page, and the user enters the TrackMage credentials."),Object(r.b)("li",null,"TrackMage asks the user whether he wants to Allow access to the third-party application."),Object(r.b)("li",null,"User clicks the Allow button"),Object(r.b)("li",null,"TrackMage will redirect to the requested redirect url, e.g https://example.com?state=STATE&code=CODE"),Object(r.b)("li",null,"The third-party application obtains the access token"),Object(r.b)(o.a,{groupId:"languages",defaultValue:"curl",values:[{label:"cURL",value:"curl"},{label:"HTTP",value:"http"}],mdxType:"Tabs"},Object(r.b)(i.a,{value:"curl",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-curl"},'curl --header "Content-Type: application/json" \\\n  --request POST \\\n  --data \'{"grant_type": "authorization_code","code": "CODE", "redirect_uri": "https://example.com", "client_id": "YOUR_CLIENT_ID", "client_secret": "YOUR_CLIENT_SECRET"}\' \\\n  https://api.trackmage.com/oauth/v2/auth\n'))),Object(r.b)(i.a,{value:"http",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-http"},'POST https://api.trackmage.com/oauth/v2/auth\nContent-Type: application/json\n{"grant_type": "authorization_code","code": "CODE", "redirect_uri": "https://example.com", "client_id": "YOUR_CLIENT_ID", "client_secret": "YOUR_CLIENT_SECRET"}\n')))),Object(r.b)("p",null,"Example response:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token":"token",\n  "expires_in":3600,\n  "token_type":"bearer",\n  "scope":null,\n  "refresh_token":"token",\n  "user_id":"e7508450-4aab-4c5f-b14d-d7440e6da3fd",\n  "user_email":"test@example.com"\n}\n'))))}b.isMDXComponent=!0}}]);
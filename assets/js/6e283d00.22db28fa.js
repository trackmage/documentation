(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[38],{8215:function(e,t,n){"use strict";var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},1395:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(7294),r=n(944),i=n(6010),l="tabItem_1uMI",o="tabItemActive_2DSg";var c=37,s=39;var u=function(e){var t=e.lazy,n=e.block,u=e.defaultValue,d=e.values,p=e.groupId,g=e.className,m=(0,r.Z)(),k=m.tabGroupChoices,h=m.setTabGroupChoices,v=(0,a.useState)(u),f=v[0],b=v[1],C=a.Children.toArray(e.children),T=[];if(null!=p){var I=k[p];null!=I&&I!==f&&d.some((function(e){return e.value===I}))&&b(I)}var N=function(e){var t=e.currentTarget,n=T.indexOf(t),a=d[n].value;b(a),null!=p&&(h(p,a),setTimeout((function(){var e,n,a,r,i,l,c,s;(e=t.getBoundingClientRect(),n=e.top,a=e.left,r=e.bottom,i=e.right,l=window,c=l.innerHeight,s=l.innerWidth,n>=0&&i<=s&&r<=c&&a>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(o),setTimeout((function(){return t.classList.remove(o)}),2e3))}),150))},E=function(e){var t,n;switch(e.keyCode){case s:var a=T.indexOf(e.target)+1;n=T[a]||T[0];break;case c:var r=T.indexOf(e.target)-1;n=T[r]||T[T.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},g)},d.map((function(e){var t=e.value,n=e.label;return a.createElement("li",{role:"tab",tabIndex:f===t?0:-1,"aria-selected":f===t,className:(0,i.Z)("tabs__item",l,{"tabs__item--active":f===t}),key:t,ref:function(e){return T.push(e)},onKeyDown:E,onFocus:N,onClick:N},n)}))),t?(0,a.cloneElement)(C.filter((function(e){return e.props.value===f}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},C.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==f})}))))}},9443:function(e,t,n){"use strict";var a=(0,n(7294).createContext)(void 0);t.Z=a},944:function(e,t,n){"use strict";var a=n(7294),r=n(9443);t.Z=function(){var e=(0,a.useContext)(r.Z);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},9571:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return c},metadata:function(){return s},toc:function(){return u},default:function(){return p}});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),l=n(1395),o=n(8215),c={id:"GettingStarted",title:"Getting Started",sidebar_label:"Getting Started",slug:"getting-started"},s={unversionedId:"GettingStarted",id:"GettingStarted",isDocsHomePage:!1,title:"Getting Started",description:"This guide will walk you through creating new shipment and getting tracking link with TrackMage.",source:"@site/docs/GettingStarted.mdx",sourceDirName:".",slug:"/getting-started",permalink:"/docs/getting-started",version:"current",sidebar_label:"Getting Started",frontMatter:{id:"GettingStarted",title:"Getting Started",sidebar_label:"Getting Started",slug:"getting-started"},sidebar:"mainSidebar",previous:{title:"Authorization",permalink:"/docs/authorization"},next:{title:"Standard Entity Fields",permalink:"/docs/standard-entity-fields.html"}},u=[],d={toc:u};function p(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This guide will walk you through creating new shipment and getting tracking link with TrackMage."),(0,i.kt)("hr",null),(0,i.kt)("h3",null,"Step 0: Obtain API Credentials and Authorization TOKEN"),(0,i.kt)("p",null,"See ",(0,i.kt)("a",{parentName:"p",href:"/docs/authorization"},"Authorization")," for instructions on obtaining store API credentials and TOKEN."),(0,i.kt)("p",null,"In API calls, include obtained authorization token or api credentials."),(0,i.kt)("h3",null,"Step 1: Create client"),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Skip this step if you use cURL, Postman or HTTP Client in your IDE"))),(0,i.kt)(l.Z,{groupId:"languages",defaultValue:"php",values:[{label:"PHP",value:"php"}],mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"php",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"use TrackMage\\Client\\TrackMageClient;\n\n// Create Client using Client ID and Client Secret\n$clientId = 'CLIENT_ID';\n$clientSecret = 'CLIENT_SECRET';\n$client = new TrackMageClient($clientId, $clientSecret);\n\n// --- or ----\n// Create client using obtained authorization token\n$client = new TrackMageClient();\n$client->setAccessToken('YOUR_TOKEN');\n")))),(0,i.kt)("h3",null,"Step 2: Create a shipment with tracking number"),(0,i.kt)(l.Z,{groupId:"languages",defaultValue:"curl",values:[{label:"cURL",value:"curl"},{label:"PHP",value:"php"}],mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-curl"},'curl \'https://api.trackmage.com/shipments\' \\\n  -H \'accept: application/ld+json\' \\\n  -H \'content-type: application/ld+json\' \\\n  -H \'authorization: Bearer YOUR_TOKEN\' \\\n  --data-binary \'{"trackingNumber":"TRACKING_NUMBER","originCarrier":"ORIGIN_CARRIER_CODE","email":"CUSTOMER_EMAIL","workspace":"/workspaces/WORKSPACE_ID"}\'\n'))),(0,i.kt)(o.Z,{value:"php",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"\nuse GuzzleHttp\\Exception\\ClientException;\n\n...\n\n$workspaceId = 'WORKSPACE_ID'; // a desired workspace UUID\n$data = [\n    'workspace' => \"/workspaces/{$workspaceId}\",\n    'trackingNumber' => 'TRACKING_NUMBER',\n    'originCarrier' => 'ORIGIN_CARRIER_CODE', // optionally\n    'email' => 'CUSTOMER_EMAIL' // optionally\n];\ntry {\n    $response = $client->post('/shipments', [\n        'json' => $data\n    ]);\n    $shipment = TrackMageClient::item($response);\n    echo $shipment['id'];\n} catch (ClientException $e) {\n    printf('An client exception occurred: %d %s', $e->getCode(), TrackMageClient::error($e);\n} catch (\\Exception $e) {\n    printf('An error occurred: %d %s', $e->getCode(), $e->getMessage());\n}\n")))),(0,i.kt)("h3",null,"Step 3: Receive tracking page link for created shipment"),(0,i.kt)(l.Z,{groupId:"languages",defaultValue:"curl",values:[{label:"cURL",value:"curl"},{label:"PHP",value:"php"}],mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"curl",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-curl"},"curl 'https://api.trackmage.com/generate_tracking_page_link' \\\n  -H 'accept: application/ld+json' \\\n  -H 'content-type: application/ld+json' \\\n  -H 'authorization: Bearer YOUR_TOKEN' \\\n  --data-binary '{\"trackingPageId\":\"TRACKING_PAGE_ID\",\"filter\":{\"id\":\"SHIPMENT_ID\"}}'\n"))),(0,i.kt)(o.Z,{value:"php",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"try {\n     $response = $client->post('/generate_tracking_page_link', [\n         'json' => [\n             'trackingPageId' => 'TRACKING_PAGE_ID',\n             'filter' => [\n                'id' => $shipmentId\n             ]\n         ]\n     ]);\n     $trackingPageLink = TrackMageClient::item($response);\n     echo $trackingPageLink['link'];\n} catch (ClientException $e) {\n    printf('An client exception occurred: %d %s', $e->getCode(), TrackMageClient::error($e);\n} catch (\\Exception $e) {\n    printf('An error occurred: %d %s', $e->getCode(), $e->getMessage());\n}\n")))))}p.isMDXComponent=!0},6010:function(e,t,n){"use strict";function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function r(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r}n.d(t,{Z:function(){return r}})}}]);